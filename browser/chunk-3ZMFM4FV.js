import{e as a}from"./chunk-I67OAI3P.js";import{K as s,O as n,S as i}from"./chunk-3C4K6DAS.js";var c=class r{constructor(e){this.http=e}apiUrl="/auth";accessTokenKey="accessToken";refreshTokenKey="refreshToken";login(e,t){return this.http.post(this.apiUrl,{email:e,password:t}).pipe(s(o=>this.saveTokens(o.accessToken,o.refreshToken)))}saveTokens(e,t){localStorage.setItem(this.accessTokenKey,e),localStorage.setItem(this.refreshTokenKey,t)}getAccessToken(){return localStorage.getItem(this.accessTokenKey)}getRefreshToken(){return localStorage.getItem(this.refreshTokenKey)}setAccessToken(e){localStorage.setItem(this.accessTokenKey,e)}setRefreshToken(e){localStorage.setItem(this.refreshTokenKey,e)}logout(){localStorage.removeItem(this.accessTokenKey),localStorage.removeItem(this.refreshTokenKey)}refreshToken(){let e=this.getRefreshToken();return e?this.http.post(`${this.apiUrl}/auth/refresh`,{refreshToken:e}).pipe(s(t=>this.saveTokens(t.accessToken,t.refreshToken))):null}static \u0275fac=function(t){return new(t||r)(i(a))};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{c as a};
